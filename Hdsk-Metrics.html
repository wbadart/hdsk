<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Hdsk.Metrics</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Hdsk.Metrics.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hdsk-0.1.0.0: Unified data science toolkit for Haskell and more</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Will Badart 2018</td></tr><tr><th>License</th><td>BSD-3-Clause</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hdsk.Metrics</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A standard set of metrics for evaluating both classification and
regression models. In Big-O notation, let <em>C</em> represent the number of
classes and <em>n</em> the number of predictions. In general, we assume <em>n &gt;&gt; C</em>,
so that <em>n</em> terms dominate <em>C</em> terms.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:accuracy">accuracy</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; [a] -&gt; [a] -&gt; b</li><li class="src short"><a href="#v:accuracyCM">accuracyCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:precision">precision</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b</li><li class="src short"><a href="#v:precisionCM">precisionCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:recall">recall</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b</li><li class="src short"><a href="#v:recallCM">recallCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:specificity">specificity</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b</li><li class="src short"><a href="#v:specificityCM">specificityCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:f1">f1</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b</li><li class="src short"><a href="#v:f1CM">f1CM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:confusionMatrix">confusionMatrix</a> :: <a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; [a] -&gt; [a] -&gt; [a] -&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:tp">tp</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:fp">fp</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:tn">tn</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:fn">fn</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:accuracy" class="def">accuracy</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; [a] -&gt; [a] -&gt; b <a href="src/Hdsk.Metrics.html#accuracy" class="link">Source</a> <a href="#v:accuracy" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Given the ground truth <code>yTrue</code> and predictions <code>yPred</code>,
 the expression <code>accuracy c yTrue yPred</code> reports the accuracy of the
 predictions, <em>(TP + TN) / (P + N)</em>. Here, <code>c</code> is the set of class
 labels, e.g. <code>S.fromList [&quot;cat&quot;, &quot;dog&quot;]</code>. The proportion of
 classifications which were correct.</p></div></div><div class="top"><p class="src"><a id="v:accuracyCM" class="def">accuracyCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#accuracyCM" class="link">Source</a> <a href="#v:accuracyCM" class="selflink">#</a></p><div class="doc"><p><em>O(C^2)</em> where <em>C</em> is the number of classes. Calculate accuracy
 from a confusion matrix, rather than a list of truths and
 predictions.</p></div></div><div class="top"><p class="src"><a id="v:precision" class="def">precision</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b <a href="src/Hdsk.Metrics.html#precision" class="link">Source</a> <a href="#v:precision" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Compute the precision (positive predictive value) of a list
 of predictions, given the class list, target class label,
 and ground truths. The below example show how to find precision for a
 binary classifier.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>truth = [&quot;cat&quot;, &quot;cat&quot;, &quot;not cat&quot;]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>preds = [&quot;cat&quot;, &quot;not cat&quot;, &quot;not cat&quot;]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>precision [&quot;cat&quot;, &quot;not cat&quot;] &quot;cat&quot; truth preds
</code></strong>0.5
</pre><p>The expression <em>TP / (TP + FP)</em> represents precision in terms of
 counts of true and false predictions. It is the proportion of
 positive predictions which are true.</p><p>Precision is undefined when no positive predictions are made.</p></div></div><div class="top"><p class="src"><a id="v:precisionCM" class="def">precisionCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#precisionCM" class="link">Source</a> <a href="#v:precisionCM" class="selflink">#</a></p><div class="doc"><p><em>O(C^2)</em> Compute the precision directly from a confusion matrix.
 The second argument is the class index within the confusion matrix.
 For instance, given the class list</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[&quot;dog&quot;, &quot;cat&quot;]
</code></strong></pre><p>The index of class <em>dog</em> is <code>1</code> and the index of class <em>cat</em> is <code>2</code>
 (since the matrix is 1-indexed).</p></div></div><div class="top"><p class="src"><a id="v:recall" class="def">recall</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b <a href="src/Hdsk.Metrics.html#recall" class="link">Source</a> <a href="#v:recall" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Compute the recall (sensitivity, true positive/ hit rate) of a
 list of predictions, given ground truth, class list, and target class
 label. See <code>precision</code> for discussion of arguments.</p><p>Recall, in terms of the confusion matrix, is <em>TP / (TP + FN)</em>, and
 represents the proportion of positive predictions which were
 classified as such.</p><p>Recall is undefined when there are no positive observations.</p></div></div><div class="top"><p class="src"><a id="v:recallCM" class="def">recallCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#recallCM" class="link">Source</a> <a href="#v:recallCM" class="selflink">#</a></p><div class="doc"><p><em>O(C^2)</em> Compute recall from a confusion matrix for a specified
 class. See <code>precisionCM</code> for discussion on the class index argument.</p></div></div><div class="top"><p class="src"><a id="v:specificity" class="def">specificity</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b <a href="src/Hdsk.Metrics.html#specificity" class="link">Source</a> <a href="#v:specificity" class="selflink">#</a></p><div class="doc"><p><em>O(???)</em> Compute the specificity (true negative rate) of the
 predictions given a list of class labels, a target class, and ground
 truth. <em>TN / (FP + TN)</em></p></div></div><div class="top"><p class="src"><a id="v:specificityCM" class="def">specificityCM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#specificityCM" class="link">Source</a> <a href="#v:specificityCM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:f1" class="def">f1</a> :: (<a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> b) =&gt; [a] -&gt; a -&gt; [a] -&gt; [a] -&gt; b <a href="src/Hdsk.Metrics.html#f1" class="link">Source</a> <a href="#v:f1" class="selflink">#</a></p><div class="doc"><p><em>O(???)</em> Compute the f1-score of the model for a given class.</p></div></div><div class="top"><p class="src"><a id="v:f1CM" class="def">f1CM</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#f1CM" class="link">Source</a> <a href="#v:f1CM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:confusionMatrix" class="def">confusionMatrix</a> :: <a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; [a] -&gt; [a] -&gt; [a] -&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Hdsk.Metrics.html#confusionMatrix" class="link">Source</a> <a href="#v:confusionMatrix" class="selflink">#</a></p><div class="doc"><p><em>O(C^2 + n)</em> where <em>C</em> is the number of classes and <em>n</em> the number
 of predictions. In general, <em>n &gt;&gt; C</em>.</p><p>Generates the confusion matrix for the predictions of an
 N-class predictor. The result will be a 1-indexed NxN matrix where
 rows represent the predicted class and columns the actual class.
 Classes are encoded as indices, where the index of a class within the
 matrix corresponds to its index within the set of classes.</p></div></div><div class="top"><p class="src"><a id="v:tp" class="def">tp</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#tp" class="link">Source</a> <a href="#v:tp" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em></p></div></div><div class="top"><p class="src"><a id="v:fp" class="def">fp</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#fp" class="link">Source</a> <a href="#v:fp" class="selflink">#</a></p><div class="doc"><p><em>O(C)</em></p></div></div><div class="top"><p class="src"><a id="v:tn" class="def">tn</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#tn" class="link">Source</a> <a href="#v:tn" class="selflink">#</a></p><div class="doc"><p><em>O(C^2)</em></p></div></div><div class="top"><p class="src"><a id="v:fn" class="def">fn</a> :: <a href="../base-4.11.1.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; Matrix <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Hdsk.Metrics.html#fn" class="link">Source</a> <a href="#v:fn" class="selflink">#</a></p><div class="doc"><p><em>O(C)</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>